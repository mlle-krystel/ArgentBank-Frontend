import{u as m,r as o,R as e,L as l,O as i}from"./index-D9oaiy0q.js";const u="/assets/argentBankLogo-DM2v6vOH.webp",g="http://localhost:3001/api/v1/user";async function f(n){const t=await fetch(`${g}/profile`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}}),a=await t.json();if(!t.ok)throw new Error(a.message||"Erreur profil");return a.body}function E(){const n=m(),[t,a]=o.useState(null);o.useEffect(()=>{const r=localStorage.getItem("token");r&&f(r).then(c=>a(c.firstName)).catch(()=>{localStorage.removeItem("token"),a(null)})},[]);const s=()=>{localStorage.removeItem("token"),n("/")};return e.createElement("nav",{className:"main-nav"},e.createElement(l,{className:"main-nav-logo",to:"/"},e.createElement("img",{className:"main-nav-logo-image",src:u,alt:"Argent Bank Logo"}),e.createElement("h1",{className:"sr-only"},"Argent Bank")),e.createElement("div",null,t?e.createElement(e.Fragment,null,e.createElement("span",{className:"main-nav-item"},e.createElement("i",{className:"fa fa-user-circle"})," ",t),e.createElement("button",{onClick:s,className:"main-nav-item",style:{background:"none",border:"none",cursor:"pointer"}},e.createElement("i",{className:"fa fa-sign-out"})," Sign Out")):e.createElement(l,{className:"main-nav-item",to:"/login"},e.createElement("i",{className:"fa fa-user-circle"})," Sign In")))}function N(){return e.createElement("footer",{className:"footer"},e.createElement("p",{className:"footer-text"},"Copyright 2020 Argent Bank"))}function v(){return e.createElement(e.Fragment,null,e.createElement(E,null),e.createElement("main",null,e.createElement(i,null)),e.createElement(N,null))}export{v as default};
